package softwarehuset;

import static org.junit.Assert.*;
import org.junit.Test;

public class TestAktivitetKnytning {

	static Softwarehuset prog = new Softwarehuset();
	static ProjektLeder progL = new ProjektLeder("Jan", "0103");
	
	//Vi vil nu gerne oprette en medarbejde
	Medarbejder medarb1 = new Medarbejder("Hubert", "0101");
	Medarbejder medarb2 = new Medarbejder("Magnus", "0102");
	Medarbejder medarb3 = new Medarbejder("Frederik", "0103");
	
	// Oprettelse af projekt
	Projekt proj1 = new Projekt("Softwarehuset");
	
	// Oprettelse af aktivitet
	Aktivitet aktiv1 = new Aktivitet("Ferie", 1995, 01, 03, 0);
	Aktivitet aktiv2 = new Aktivitet("Klassediagram", 2, 01, 03, 40);
			
		
	@Test
	public void testAktivitetOprettelse() {
		// Test af oprettelse
		progL.OpretAktivitet(aktiv1,proj1);
		progL.OpretAktivitet(aktiv2,proj1);
		
		// Aktivitet 1. 
		assertEquals(progL.AktiveAktiviteter.get(0).aktivitet, "Ferie");
		assertEquals(progL.AktiveAktiviteter.get(0).projektNummer, 1995);
		assertEquals(progL.AktiveAktiviteter.get(0).startUge, 01);
		assertEquals(progL.AktiveAktiviteter.get(0).slutUge, 03);
		assertEquals(progL.AktiveAktiviteter.get(0).forventedeArbejdsTimer, 0);
		
		// Aktivitet 2.
		assertEquals(progL.AktiveAktiviteter.get(1).aktivitet, "Klassediagram");
		assertEquals(progL.AktiveAktiviteter.get(1).projektNummer, 2);
		assertEquals(progL.AktiveAktiviteter.get(1).startUge, 01);
		assertEquals(progL.AktiveAktiviteter.get(1).slutUge, 03);
		assertEquals(progL.AktiveAktiviteter.get(1).forventedeArbejdsTimer, 40);
			
	}
	@Test
	public void testMedarbejderTilknyttelse() {
		// Oprettelse af medarbejder
			prog.opretUser(medarb1);
			prog.opretUser(medarb2);
			prog.opretUser(medarb3);
			
		// Vi tester nu oprettelse
			progL.OpretAktivitet(aktiv1,proj1);
			progL.OpretAktivitet(aktiv2,proj1);
			progL.LedigeMedarbejder();
			progL.UddelAktivitet("0101", aktiv2);
			
		// Vi tester nu funktionaliten
			assertEquals(ProjektLeder.LedigMedarbejderListe.get(0).AntalAktiviteter.size(), 1);
			assertEquals(Softwarehuset.MedarbejderListe.get(1).AntalAktiviteter.size(), 0);
			
	}
}
	
